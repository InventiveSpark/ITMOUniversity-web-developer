<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Самостоятельная работа &#8470;4.1. Вывод массива</title>
</head>

<body>
    <script>
        {
            "use strict";
            /* Для того, чтобы добавить массив в глобальный объект window, 
               с помощью ключевого слова var создается глобальная переменная,
               областью видимости которой является вся функция (в данном случае 
               - весь скрипт), а не только объемлющий блок. 
               Подробнее см.: https://youtu.be/EGoWNxenxPg?list=PLWcbHn2LFV0AKXOQgKl9zrhCzKp0EX2ah&t=534
               Теперь products входит в список дочерних элементов глобального 
               объекта window. В любом месте скрипта (даже внутри функций) 
               к массиву можно обратиться как через products, так и через 
               window.products: */
            var products = ["Блины", "Квас", "Пельмени", "Икра"];
            /* Эквивалентная запись: */
            // window.products = ["Блины", "Квас", "Пельмени", "Икра"];
            function printProduct(arr) {
                /* В переменной tmp будет формироваться строка с ответом.
                   Переменной присвоена пустая строка для того, чтобы задать
                   ей тип string вместо undefined, что обеспечит чистую 
                   конкатенацию: */
                let tmp = "";
                for (let i = 0; i < arr.length; i++) {
                    /* К строке добавляется очередной элемент массива, за 
                       которым следует тег перевода строки <br>: */
                    tmp += arr[i] + "<br>";
                }
                /* Метод document.write пишет строку tmp в поток документа, 
                   открытый с помощью document.open(). Поскольку document.write 
                   пишет строку в поток документа, вызов document.write для 
                   закрытого (но загруженного) документа автоматически вызовет 
                   document.open, который очистит документ.
                   Строка пишется в HTML-документ без проверки структуры тегов, 
                   как будто она всегда там была. Методы document.write и 
                   document.writeln пишут напрямую в текст документа, до того
                   как браузер построит из него DOM, поэтому они могут записать 
                   в документ все, что угодно, любые стили и незакрытые теги.
                   Браузер учтёт их при построении DOM точно так же, как 
                   учитывает очередную порцию HTML-текста. */
                document.write(tmp);
            }
            printProduct(products);
            /* В глобальном контексте выполнения (за пределами каких-либо 
               функций) this ссылается на глобальный объект вне зависимости от 
               режима (строгий или нестрогий). В браузерах, объект window также
               является объектом global. Объявленный через var или window.
               массив products отображается в глобальном контексте: */
            console.log(this);
            /* Можно легко получить объект global, используя глобальное свойство
               globalThis, независимо от текущего контекста, в котором 
               выполняется код. */
        }
    </script>
</body>

</html>